version: "3"

services:
    mc:
        image: itzg/minecraft-server
        ports:
            - 25565:25565
        networks:
            media_network:
                ipv4_address: 192.168.60.100
        environment:
            EULA: "TRUE"
            MEMORY: "2G"
            VERSION: "LATEST"


    reverseProxy:
        image: nginx
        volumes:
            - ./templates:/etc/nginx/templates
        ports:
            - "8080:80"
        networks:
            media_network:
                ipv4_address: 192.168.60.101
        environment:
            - NGINX_HOST=foobar.com
            - NGINX_PORT=80


networks:
    media_network:
        driver: bridge
        ipam:
            driver: default
            config:
                - subnet: 192.168.60.0/24